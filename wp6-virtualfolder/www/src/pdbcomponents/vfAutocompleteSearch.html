<template>
  <require from="./vfAutocompleteSearch.css"></require>
<form>
  <input autocomplete="off" value.bind="value & debounce:750"
         blur.trigger="hideSuggestions()"
         keydown.delegate="keypressed($event)"
         placeholder.bind="placeholder" focus.trigger="showSuggestions()">
  <div show.bind="showing" class="result-container">
    <div repeat.for="resultGroup of resultGroups" class="result-card">

        <header class="result-card-heading">${resultGroup.groupValue} (${resultGroup.doclist.numFound})</header>
        <div class="result-card-body">
          <span repeat.for="doclistRec of resultGroup.doclist.docs">
            <!--TODO proper link-->
            <div class="result-card-item"><span class="result-card-item-label">${doclistRec.value}</span> <span class="result-card-item-count">(${doclistRec.num_pdb_entries})</span></div>
          </span>

        </div>
        <footer class="result-card-footer">
          <!--TODO proper more-->
          <a href="#" click.delegate="searchMore()">More...</a>
        </footer>

    </div>
    <div show.bind="resultGroupsEmpty">No hints.</div>
  </div>
</form>
</template>
