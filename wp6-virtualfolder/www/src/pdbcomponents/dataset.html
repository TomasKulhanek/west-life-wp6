<template>

  <require from="./pdb-id"></require>
  <require from="./pdb-ids"></require>
  <require from="./entry-id"></require>
  <require from="./dataitem"></require>
  <require from="./hideable"></require>
  <require from="../autocomplete/vfAutocompleteSearch"></require>
  <!--require from="formio"></require-->
  <require from="codemirror/lib/codemirror.css"></require>
  <require from="codemirror/theme/eclipse.css"></require>

  <div class="w3-card-2 w3-padding w3-margin-right">
    <button type="button" click.delegate="load()">Load metadata</button>
    <button type="button" click.delegate="submit()" disabled.bind="!canSubmit">Save metadata</button>
    <div>
      <div class="w3-display-container w3-large w3-hover-green" click.delegate="unselectdataset(item)">${name}</div>
      <form>
        Related PDB,Uniprot,.. items to add:<br/>
        <vf-autocomplete-search submit.call="additem(item)" placeholder="1cbs (PDB entry) or P12355 (Uniprot entry)" size="40"></vf-autocomplete-search>
      </form>

      <hr/>
      <hideable title="PDB Prints"><pdb-prints pdb-ids='${pdbdataset}' settings='{"size": 24 }'></pdb-prints></hideable>
      <br/>
      <ul>
        <li repeat.for="item of pdbdataset"><span class="w3-black w3-center">${item.Name}</span>
          <i class="fa fa-remove" click.delegate="removeitem(item)"></i>
          <dataitem item.bind="item"></dataitem>
        </li>
      </ul>
      <p>Provenance (PROV-N):</p>
      <textarea ref="contentarea" value.bind="initialdocument"></textarea>
<!--
      <p>provenance</p>

      <textarea value.bind="provn">document
        prefix dataset <${name}>
        entity (e1, dataset:data)
        agent (author, ${user})
endDocument</textarea>-->
      <br/>

    </div>
    <button type="button" click.delegate="editprovn()">Edit in PROV-N editor</button>
    <button type="button" click.delegate="storevf()">Store in VF</button>
    <button type="button" click.delegate="submitprovstore()">Submit to ProvStore</button>



  </div>
</template>
